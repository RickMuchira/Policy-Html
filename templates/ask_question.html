<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Ask Questions - PNC Chatbot</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

    <!-- Chatbot Toggle Button -->
    <button class="chatbot-toggler">
        <span class="material-symbols-rounded">mode_comment</span>
        <span class="material-symbols-outlined">close</span>
    </button>

    <div class="chatbot">
        <header>
            <h2>Ask a Question</h2>
            <span class="close-btn material-symbols-outlined">close</span>
        </header>
        
        <!-- Chatbox where questions and responses will be displayed -->
        <ul class="chatbox">
            <!-- Welcome message -->
            <li class="chat incoming">
                <span class="material-symbols-outlined">smart_toy</span>
                <p>Hi! ðŸ‘‹<br>Ask me anything related to the PDFs you've uploaded.</p>
            </li>

            <!-- Display the chatbot's response -->
            {% if answer %}
            <li class="chat outgoing">
                <p>{{ answer }}</p>
            </li>
            <li class="chat incoming">
                <p>Study Progress: {{ progress * 100 }}%</p>
                <progress value="{{ progress }}" max="1"></progress>
            </li>
            {% endif %}
        </ul>

        <!-- Chat input form to submit questions -->
        <div class="chat-input">
            <form action="{{ url_for('ask_question') }}" method="POST">
                <textarea name="question" placeholder="Enter your question here..." spellcheck="false" required></textarea>
                <button type="submit" class="send-btn">Send</button>
            </form>
        </div>
    </div>

</body>
</html>
